{"version":3,"file":"app~49ea73a0.bundle.js","mappings":"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","sources":["webpack://restaurant-apps/./src/scripts/components/footer-content.js","webpack://restaurant-apps/./src/scripts/components/form-reviews.js","webpack://restaurant-apps/./src/scripts/data/favoriteRestaurant-idb.js","webpack://restaurant-apps/./src/scripts/globals/api-endpoint.js","webpack://restaurant-apps/./src/scripts/data/restaurantdb-source.js","webpack://restaurant-apps/./src/scripts/globals/config.js","webpack://restaurant-apps/./src/scripts/index.js"],"sourcesContent":["class FooterContent extends HTMLElement {\r\n  connectedCallback() {\r\n    this.render();\r\n  }\r\n\r\n  render() {\r\n    this.innerHTML = `\r\n      <p tabindex=\"0\" class=\"footer\">Copyright Â©2022 FOod Court by Muhammad Riyadhi Al Fikri</p>`;\r\n  }\r\n}\r\n\r\ncustomElements.define('footer-content', FooterContent);\r\n","class FormReviews extends HTMLElement {\r\n  connectedCallback() {\r\n    this.render();\r\n  }\r\n\r\n  render() {\r\n    this.innerHTML = `\r\n      <div class=\"formReviews\">\r\n        <h2>Form Reviews</h2>\r\n        <form action=\"\" class=\"inputReviews\">\r\n          <label>Name</label>\r\n          <input id=\"name-review\" type=\"text\" maxlength=\"16\" autocomplete=\"off\" placeholder=\"Input your name\" required>\r\n          <label>Reviews</label>\r\n          <input id=\"content-review\" type=\"text\" maxlength=\"48\" placeholder=\"Input your reviews\" required>\r\n          <button id=\"submit-review\" class=\"submit\" type=\"submit\">Submit</button>\r\n        </form>\r\n      </div>`;\r\n  }\r\n}\r\n\r\ncustomElements.define('form-reviews', FormReviews);\r\n","import { openDB } from 'idb';\r\nimport CONFIG from '../globals/config';\r\n\r\nconst { DATABASE_NAME, DATABASE_VERSION, OBJECT_STORE_NAME } = CONFIG;\r\n\r\nconst dbPromise = openDB(DATABASE_NAME, DATABASE_VERSION, {\r\n  upgrade(database) {\r\n    database.createObjectStore(OBJECT_STORE_NAME, { keyPath: 'id' });\r\n  },\r\n});\r\n\r\nconst FavoriteRestaurantIdb = {\r\n  async getRestaurant(id) {\r\n    if (!id) {\r\n      return;\r\n    }\r\n    // eslint-disable-next-line consistent-return\r\n    return (await dbPromise).get(OBJECT_STORE_NAME, id);\r\n  },\r\n  async getAllRestaurants() {\r\n    return (await dbPromise).getAll(OBJECT_STORE_NAME);\r\n  },\r\n  async putRestaurant(restaurant) {\r\n    // eslint-disable-next-line no-prototype-builtins\r\n    if (!restaurant.hasOwnProperty('id')) {\r\n      return;\r\n    }\r\n    // eslint-disable-next-line consistent-return\r\n    return (await dbPromise).put(OBJECT_STORE_NAME, restaurant);\r\n  },\r\n  async deleteRestaurant(id) {\r\n    return (await dbPromise).delete(OBJECT_STORE_NAME, id);\r\n  },\r\n  async searchRestaurants(query) {\r\n    return (await this.getAllRestaurants()).filter((restaurant) => {\r\n      const loweredCaseRestaurantName = (restaurant.name || '-').toLowerCase();\r\n      const jammedRestaurantName = loweredCaseRestaurantName.replace(/\\s/g, '');\r\n\r\n      const loweredCaseQuery = query.toLowerCase();\r\n      const jammedQuery = loweredCaseQuery.replace(/\\s/g, '');\r\n\r\n      return jammedRestaurantName.indexOf(jammedQuery) !== -1;\r\n    });\r\n  },\r\n};\r\n\r\nexport default FavoriteRestaurantIdb;\r\n","// eslint-disable-next-line import/extensions\r\nimport CONFIG from './config.js';\r\n\r\nconst API_ENDPOINT = {\r\n  ALL_RESTAURANT: `${CONFIG.BASE_URL}list`,\r\n  DETAIL: (id) => `${CONFIG.BASE_URL}detail/${id}`,\r\n  REVIEW: `${CONFIG.BASE_URL}review`,\r\n};\r\n\r\nexport default API_ENDPOINT;\r\n","import API_ENDPOINT from '../globals/api-endpoint';\r\n\r\nclass RestaurantDbSource {\r\n  static async allRestaurant() {\r\n    const response = await fetch(API_ENDPOINT.ALL_RESTAURANT);\r\n    const responseJson = await response.json();\r\n    return responseJson.restaurants;\r\n  }\r\n\r\n  static async detailRestaurant(id) {\r\n    const response = await fetch(API_ENDPOINT.DETAIL(id));\r\n    return response.json();\r\n  }\r\n\r\n  static async searchRestaurant(keyword) {\r\n    const response = await fetch(API_ENDPOINT.SEARCH(keyword));\r\n    return response.json();\r\n  }\r\n\r\n  static async sendReview(review) {\r\n    console.log(JSON.stringify(review));\r\n    const response = await fetch(API_ENDPOINT.REVIEW, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(review),\r\n    });\r\n    location.reload();\r\n    return response;\r\n  }\r\n}\r\n\r\nexport default RestaurantDbSource;\r\n","const CONFIG = {\r\n  BASE_URL: 'https://restaurant-api.dicoding.dev/',\r\n  BASE_IMAGE_URL: 'https://restaurant-api.dicoding.dev/images/medium/',\r\n  DEFAULT_LANGUAGE: 'en-us',\r\n  CACHE_NAME: 'restaurant-cache',\r\n  DATABASE_NAME: 'restaurant-database',\r\n  DATABASE_VERSION: 1,\r\n  OBJECT_STORE_NAME: 'restaurants',\r\n};\r\n\r\nexport default CONFIG;\r\n","import 'regenerator-runtime';\nimport 'lazysizes';\nimport 'lazysizes/plugins/parent-fit/ls.parent-fit';\nimport '../styles/main.css';\nimport '../styles/responsive.css';\n// eslint-disable-next-line import/extensions\nimport './components/footer-content.js';\nimport './components/form-reviews';\nimport App from './views/app';\nimport swRegister from './utils/sw-register';\n\nconst hamburgerBar = document.getElementById('ham-bar');\nconst closeBar = document.getElementById('close-bar');\nconst ulNavbar = document.getElementById('ul-navbar');\n\nhamburgerBar.addEventListener('click', () => {\n  closeBar.classList.add('show-icon');\n  hamburgerBar.classList.add('unshow-icon');\n  ulNavbar.classList.add('show');\n});\n\ncloseBar.addEventListener('click', () => {\n  hamburgerBar.classList.remove('unshow-icon');\n  closeBar.classList.remove('show-icon');\n  ulNavbar.classList.remove('show');\n});\n\nconst app = new App({\n  content: document.querySelector('#mainContent'),\n});\n\nwindow.addEventListener('hashchange', () => {\n  app.renderPage();\n});\n\nwindow.addEventListener('load', () => {\n  app.renderPage();\n  swRegister();\n});\n"],"names":["FooterContent","this","render","innerHTML","HTMLElement","customElements","define","FormReviews","i","DATABASE_NAME","CONFIG","DATABASE_VERSION","OBJECT_STORE_NAME","dbPromise","openDB","upgrade","database","createObjectStore","keyPath","getRestaurant","id","get","getAllRestaurants","getAll","putRestaurant","restaurant","hasOwnProperty","put","deleteRestaurant","searchRestaurants","query","filter","jammedRestaurantName","name","toLowerCase","replace","jammedQuery","indexOf","ALL_RESTAURANT","DETAIL","REVIEW","RestaurantDbSource","fetch","API_ENDPOINT","response","json","responseJson","restaurants","keyword","review","console","log","JSON","stringify","method","headers","body","location","reload","BASE_URL","BASE_IMAGE_URL","DEFAULT_LANGUAGE","CACHE_NAME","hamburgerBar","document","getElementById","closeBar","ulNavbar","addEventListener","classList","add","remove","app","App","content","querySelector","window","renderPage","swRegister"],"sourceRoot":""}